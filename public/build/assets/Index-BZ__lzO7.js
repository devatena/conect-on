import{k as H,j as S,l as O,e as _,w as t,r as l,o as n,a as e,b as o,c as T,d as V,F as j,O as A,t as p,f as b,h as $}from"./app-DdmHiQib.js";const L=$("br",null,null,-1),z=H({__name:"Index",props:{records:Object,prestadores:Object,selected:Number},setup(c){const E=S(" | Acompanhamento de Horas"),g=S(c.selected);O(g,()=>{I()});function I(){A.visit("/gestao/acompanhamento",{method:"post",data:{id:g.value}})}function N(d){return{title:d.name,subtitle:d.role}}function B(d){const[m,h,a]=d.split("-"),u=new Date(m,h-1,a);return`${u.getDate().toString().padStart(2,"0")}/${(u.getMonth()+1).toString().padStart(2,"0")}/${u.getFullYear()}`}function C(d,m){const h=new Date("1970-01-01T"+d+"Z"),a=new Date("1970-01-01T"+m+"Z"),s=Math.abs(a-h)/(1e3*60*60),i=Math.floor(s),v=Math.floor((s-i)*60),f=Math.round(((s-i)*60-v)*60),y=(i<10?"0":"")+i,k=(v<10?"0":"")+v,w=(f<10?"0":"")+f;return y+":"+k+":"+w}return(d,m)=>{const h=l("v-select"),a=l("v-col"),u=l("v-text-field"),s=l("v-row"),i=l("v-expansion-panel-title"),v=l("v-expansion-panel"),f=l("v-icon"),y=l("v-btn"),k=l("v-expansion-panel-text"),w=l("v-expansion-panels"),F=l("painel-gestao");return n(),_(F,{backTo:"true","page-name":E.value},{default:t(()=>[e(s,null,{default:t(()=>[e(a,{cols:"3"},{default:t(()=>[e(h,{modelValue:g.value,"onUpdate:modelValue":m[0]||(m[0]=M=>g.value=M),label:"Prestador de serviço","item-props":N,items:c.prestadores,"item-text":"id","item-value":"id"},null,8,["modelValue","items"])]),_:1}),e(a,{cols:"3"},{default:t(()=>[e(u,{label:"Data Inicial",type:"date"})]),_:1}),e(a,{cols:"3"},{default:t(()=>[e(u,{label:"Data Inicial",type:"date"})]),_:1})]),_:1}),e(w,{variant:"accordion"},{default:t(()=>[e(v,{elevation:"0",style:{"background-color":"blueviolet",color:"white"}},{default:t(()=>[e(i,{"hide-actions":!0},{default:t(()=>[e(s,{"no-gutters":""},{default:t(()=>[e(a,{cols:"4",class:"d-flex justify-start"},{default:t(()=>[o(" Dia ")]),_:1}),e(a,{cols:"4",class:"text--secondary"},{default:t(()=>[o(" Tempo trabalhado ")]),_:1}),e(a,{cols:"4",class:"text--secondary"},{default:t(()=>[o(" Status ")]),_:1})]),_:1})]),_:1})]),_:1}),(n(!0),T(j,null,V(c.records.hour,(M,r)=>(n(),_(v,{elevation:"0",key:r},{default:t(()=>[e(i,null,{default:t(()=>[e(s,{"no-gutters":""},{default:t(()=>[e(a,{cols:"4",class:"d-flex justify-start"},{default:t(()=>[o(p(B(r.slice(0,10))),1)]),_:2},1024),e(a,{cols:"4",class:"text--secondary"},{default:t(()=>[o(p(c.records.totalHour[r]),1)]),_:2},1024),e(a,{cols:"4",class:"text--secondary"},{default:t(()=>[c.records.errors[r]?b("",!0):(n(),_(f,{key:0,icon:"mdi-check-all"})),c.records.errors[r]?(n(),_(f,{key:1,icon:"mdi-alert"})):b("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(k,null,{default:t(()=>[e(s,{"no-gutters":"",class:"p-2",style:{"background-color":"rgb(213, 213, 213)"}},{default:t(()=>[e(a,{cols:"2",class:"text-left"},{default:t(()=>[o(" # ")]),_:1}),e(a,{cols:"2",class:"text-left"},{default:t(()=>[o(" Entrada ")]),_:1}),e(a,{cols:"2",class:"text-left"},{default:t(()=>[o(" Saida ")]),_:1}),e(a,{cols:"2",class:"text-left"},{default:t(()=>[o(" Tempo trabalhado ")]),_:1}),e(a,{cols:"2",class:"text-left"},{default:t(()=>[o(" Intervalo ")]),_:1}),e(a,{cols:"2",class:"text-left"},{default:t(()=>[o(" Ações ")]),_:1})]),_:1}),(n(!0),T(j,null,V(c.records.hour[r],(x,D)=>(n(),_(s,{key:r,"no-gutters":""},{default:t(()=>[e(a,{cols:"2",class:"text-left"},{default:t(()=>[o(p(D+1),1)]),_:2},1024),e(a,{cols:"2",class:"text-left"},{default:t(()=>[o(p(x.input),1)]),_:2},1024),e(a,{cols:"2",class:"text-left"},{default:t(()=>[o(p(x.output)+" ",1),x.output?b("",!0):(n(),_(f,{key:0,icon:"mdi-alert"}))]),_:2},1024),e(a,{cols:"2",class:"text-left"},{default:t(()=>[o(p(x.hour_complete)+" ",1),x.hour_complete?b("",!0):(n(),_(f,{key:0,icon:"mdi-alert"}))]),_:2},1024),e(a,{cols:"2",class:"text-left"},{default:t(()=>[o(p(D==0?" ":C(c.records.hour[r][D-1].output,x.input))+" ",1),L]),_:2},1024),e(a,{cols:"2",class:"text-left"},{default:t(()=>[e(y,{"prepend-icon":"mdi-pencil",variant:"outlined",size:"x-small",color:"orange",class:"mb-1"},{default:t(()=>[o(" Ajuste ")]),_:1})]),_:1})]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["page-name"])}}});export{z as default};
